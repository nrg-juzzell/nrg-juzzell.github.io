(()=>{"use strict";let e=(()=>{let t={};const a=e=>t[e];return{build:function(a){let n,l={};const r=e=>{let t=e.scrollHeight;l.updateState({expanded:!0}),e.style.height=t+"px"},d=e=>{let t=e.scrollHeight;l.updateState({expanded:!1});let a=e.style.transition;e.style.transition="",requestAnimationFrame((()=>{e.style.height=t+"px",e.style.transition=a,requestAnimationFrame((()=>{e.style.height="0px"}))}))},i=e=>{let t=e.querySelectorAll('[data-expandable-container="expanded"]');if(0!==t.length)for(let e=0;e<t.length;e++){let a=t[e].querySelector("[data-expandable-target]");d(a),t[e].setAttribute("data-expandable-container","collapsed")}};return l.toggle=()=>{"collapsed"==n.container.getAttribute("data-expandable-container")?(null!==n.targetGroup&&i(n.targetGroup),r(n.target),n.container.setAttribute("data-expandable-container","expanded")):(null!==n.targetGroup&&i(n.targetGroup),d(n.target),n.container.setAttribute("data-expandable-container","collapsed"))},l.collapse=()=>{d(n.target),n.container.setAttribute("data-expandable-container","collapsed")},l.expand=()=>{r(n.target),n.container.setAttribute("data-expandable-container","expanded")},l.init=async a=>{if(void 0!==t[a.id])return;if(n=a,null==n||null==n)return void console.error("Expandables Plugin, settings not provided upon initialization");let l=n.trigger,r=l.getAttribute("data-expandable-trigger");if(r=void 0!==r&&""!==r?r:"click",n.triggerEvent=r,await l.setAttribute("data-expandable-id",n.id),"true"===n.override)try{n.callback=t=>{if(t.target.getAttribute("data-expandable-id")===l.dataset.expandableId){let a=e.getExpandable(n.id).getSettings();window[a.customCallback](t)}},window.addEventListener(r,n.callback)}catch(e){console.error("Expandables Plugin, setting "+n.id+" expandable custom callback failed: "+e.message)}else n.callback=t=>{t.target.getAttribute("data-expandable-id")===l.dataset.expandableId&&e.getExpandable(n.id).toggle()},window.addEventListener(r,n.callback);null===n.targetGroup&&n.target.addEventListener("transitionend",(e=>{!0===n.expanded&&(n.target.style.height="auto")}))},l.updateState=e=>{for(let t in e)n[t]=e[t]},l.getSettings=()=>n,l.isExpanded=()=>n.expanded,l.init(a),l},registerExpandable:function(t,a){let n,l=t.querySelector("[data-expandable-target]"),r=""!==l.getAttribute("data-expandable-target")?l.getAttribute("data-expandable-target"):"expandable_"+a,d=t.querySelector("[data-expandable-trigger]"),i=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,"[data-expandable-group]"););return e}(t),o="collapsed"!=t.getAttribute("data-expandable-container"),g=t.getAttribute("data-expandable-override"),c=null;"true"===g&&(n=t.getAttribute("data-expandable-callback"),c=void 0===n?null:n,null==c&&console.warn("Expandables Plugin did not detect custom callback for override, Node:",t)),null==l&&console.warn("Expandables Plugin did not detect target, Node:",t),null==d&&console.warn("Expandables Plugin did not detect trigger, Node:",t),this.storeExpandable(r,new e.build({id:r,container:t,trigger:d,target:l,targetGroup:i,override:g,customCallback:c,expanded:o}))},storeExpandable:(e,a)=>{void 0===t[e]&&(t[e]=a)},getExpandables:()=>t,getExpandable:a,destroyExpandables:()=>{for(const e in t){let t=a(e).getSettings(),n=t.callback,l=t.triggerEvent;window.removeEventListener(l,n)}t={}},collapseAll:(t="body")=>{let a=e.getExpandables();for(let e in a){const n=a[e],l=a[e].getSettings();if(null!==n.getSettings().targetGroup)return;if(void 0===document.querySelector(t).querySelector("[data-expandable-id='"+l.id+"']"))return;l.expanded&&n.collapse()}},expandAll:(t="body")=>{let a=e.getExpandables();for(let e in a){const n=a[e],l=a[e].getSettings();if(null!==n.getSettings().targetGroup)return;if(void 0===document.querySelector(t).querySelector("[data-expandable-id='"+l.id+"']"))return;l.expanded||n.expand()}}}})();!function(){let t=document.querySelectorAll("[data-expandable-container]");if(null!=t)for(let a=0;a<t.length;a++)e.registerExpandable(t[a],a)}()})();
//# sourceMappingURL=index.html.js.map